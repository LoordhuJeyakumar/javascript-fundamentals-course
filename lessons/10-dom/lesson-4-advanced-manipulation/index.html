<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced DOM Manipulation | JavaScript Fundamentals</title>
    <link rel="stylesheet" href="src/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div id="app">
        <h1><i class="fas fa-tachometer-alt"></i> Advanced DOM Manipulation</h1>

        <!-- Performance Comparison Demo -->
        <section id="performance-demo">
            <h2><i class="fas fa-chart-line"></i> Performance Comparison</h2>
            
            <div class="test-controls">
                <div class="input-group">
                    <label for="itemCount">Number of Items:</label>
                    <input type="number" id="itemCount" value="1000" min="100" max="50000">
                </div>
                
                <button id="runInnerHTML">
                    <i class="fas fa-code"></i> innerHTML
                </button>
                <button id="runCreateElement">
                    <i class="fas fa-plus-square"></i> createElement
                </button>
                <button id="runFragment">
                    <i class="fas fa-puzzle-piece"></i> DocumentFragment
                </button>
                <button id="runTemplate">
                    <i class="fas fa-copy"></i> Template
                </button>
            </div>

            <div class="performance-results">
                <div id="performanceMetrics"></div>
                <div id="performanceChart"></div>
            </div>

            <div id="testOutput" class="test-output"></div>
        </section>

        <!-- Virtual List Demo -->
        <section id="virtual-list-demo">
            <h2><i class="fas fa-list"></i> Virtual List</h2>
            
            <div class="controls">
                <div class="input-group">
                    <label for="totalItems">Total Items:</label>
                    <input type="number" id="totalItems" value="10000" min="1000" max="1000000">
                </div>
                <button id="updateList">
                    <i class="fas fa-sync"></i> Update List
                </button>
            </div>

            <div class="virtual-list-container">
                <div id="virtualList" class="virtual-list">
                    <!-- Virtual list items will be rendered here -->
                </div>
                <div class="scroll-info">
                    <span>Showing items: <span id="visibleRange">0 - 0</span></span>
                    <span>Total items: <span id="totalCount">0</span></span>
                </div>
            </div>
        </section>

        <!-- Real-time Updates Demo -->
        <section id="realtime-demo">
            <h2><i class="fas fa-clock"></i> Real-time Updates</h2>
            
            <div class="controls">
                <button id="startUpdates">
                    <i class="fas fa-play"></i> Start Updates
                </button>
                <button id="stopUpdates">
                    <i class="fas fa-stop"></i> Stop Updates
                </button>
                <div class="input-group">
                    <label for="updateSpeed">Updates per second:</label>
                    <input type="range" id="updateSpeed" min="1" max="60" value="10">
                    <span id="speedValue">10</span>
                </div>
            </div>

            <div class="dashboard">
                <div class="widget" id="widget1">
                    <h3>Random Numbers</h3>
                    <div class="widget-content"></div>
                </div>
                <div class="widget" id="widget2">
                    <h3>Time Series</h3>
                    <div class="widget-content"></div>
                </div>
                <div class="widget" id="widget3">
                    <h3>Moving Average</h3>
                    <div class="widget-content"></div>
                </div>
            </div>

            <div id="performanceMonitor">
                <h3>Performance Monitor</h3>
                <div class="metrics">
                    <div class="metric">
                        <span>Frame Rate:</span>
                        <span id="frameRate">0 FPS</span>
                    </div>
                    <div class="metric">
                        <span>Memory Usage:</span>
                        <span id="memoryUsage">0 MB</span>
                    </div>
                    <div class="metric">
                        <span>Updates/sec:</span>
                        <span id="updateRate">0</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Shadow DOM Demo -->
        <section id="shadow-dom-demo">
            <h2><i class="fas fa-ghost"></i> Shadow DOM</h2>
            
            <div class="demo-components">
                <custom-card>
                    <h3>Custom Card Component</h3>
                    <p>This component uses Shadow DOM for style isolation.</p>
                </custom-card>

                <template id="custom-card-template">
                    <style>
                        .card {
                            padding: 1rem;
                            border-radius: 8px;
                            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                            background: white;
                        }
                        ::slotted(h3) {
                            color: var(--primary-color);
                            margin-top: 0;
                        }
                    </style>
                    <div class="card">
                        <slot></slot>
                    </div>
                </template>
            </div>
        </section>
    </div>

    <!-- Templates for virtual list items -->
    <template id="list-item-template">
        <div class="list-item">
            <span class="item-index"></span>
            <span class="item-content"></span>
        </div>
    </template>

    <script src="src/script.js"></script>
</body>
</html>